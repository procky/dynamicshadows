/*
dynamicShadows.js v1.0
	Dynamic single light casting shadows using CSS3 text and box shadows
	AUTHOR: Adam Wicks
	LICENCE: MIT
	DEPENDENCIES: none!
	LINK: https://github.com/procky/dynamicShadows
*/
var dynamicShadows={},dynamicShadows=function(){var k=[],m=[],f=9999,n=function(c){if("string"===typeof c.style.webkitBoxShadow)return"webkitBoxShadow";if("string"===typeof c.style.MozBoxShadow)return"MozBoxShadow";if("string"===typeof c.style.boxShadow)return"boxShadow"},h=function(c){for(var a=c,e=0,b=0;a;)e+=a.offsetLeft,b+=a.offsetTop,a=a.offsetParent;return{x:e+c.clientWidth/2,y:b+c.clientHeight/2}},p=function(c,a){var e=c.x-a.x,b=c.y-a.y;return Math.sqrt(e*e+b*b)};return{init:function(c){c&& (f=c);window.addEventListener("resize",function(){var a;for(a=0;a<k.length;a++)k[a].center=k[a].centerElement?h(k[a].centerElement):h(k[a].element);for(a=0;a<m.length;a++)m[a].center=m[a].centerElement?h(m[a].centerElement):h(m[a].element)})},addBoxElement:function(c,a,e){var b=n(c),b={element:c,boxProperty:b};e?(b.center=h(e),b.centerElement=e):b.center=h(c);b.blurAmount="undefined"!==typeof a?a:12;k.push(b)},addTextElement:function(c,a,e){var b={element:c};e?(b.center=h(e),b.centerElement=e):b.center= h(c);b.blurAmount="undefined"!==typeof a?a:12;m.push(b)},setLightPosition:function(c){var a;for(a=0;a<k.length;a++){var e=k[a].element.style,b=k[a].boxProperty,g=k[a].center,h=c,l=k[a].blurAmount,l=p(h,g)/l,d=(g.x-h.x)/8,g=(g.y-h.y)/8,d=d>f?f:d,d=d<-f?-f:d,g=g>f?f:g,g=g<-f?-f:g;e[b]=d+"px "+g+"px "+l+"px #d2d2d2"}for(a=0;a<m.length;a++)e=m[a].element.style,d=m[a].center,g=c,b=m[a].blurAmount,b=p(g,d)/b,l=(d.x-g.x)/8,d=(d.y-g.y)/8,l=l>f?f:l,l=l<-f?-f:l,d=d>f?f:d,d=d<-f?-f:d,e.textShadow=l+"px "+d+ "px "+b+"px #d2d2d2"},boxPropertyCheck:function(c){return n(c)}}}();